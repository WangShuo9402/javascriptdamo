<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // json是一种轻量级的数据交换的格式.便于计算机来解析
        //诞生于2002年

        //数据交换的格式:xml - 不便于计算机解析,不够简洁,解析的性能比较差

        // 语法格式:
        //     1. 以键值对的方式进行存储
        //     2. 多个键值对之间用逗号隔开
        //     3. json单个对象使用{}
        //     4. json数组使用[]

        //定义一个json对象
        var user = {"id":1,"name":"tom","age":23};
        console.log(typeof(user));//object

        //通过json对象的key获取到json对象的值
        console.log(user.id+":"+user.name+":"+user.age);

        //json对象如何转换成json字符串
        //JSON属于js中的内置对象
        // var user_jsonstr = JSON.stringify(user);
        var user_jsonstr = JSON.stringify(user,null,2);//最后一个参数2代表缩进
        console.log(user_jsonstr);
        console.log(typeof(user_jsonstr));

        //定义一个json字符串
        var user_jsonstrs = '{"id":1,"name":"tom","age":23}';
        //只有json字符串才能转换成json对象

        //第一种方式使用eval
        var user_eval_json = eval("("+user_jsonstrs+")");
        console.log(user_eval_json.name);

        //第二种转换方式
        var user_jsonparse_json = JSON.parse(user_jsonstrs);
        console.log(user_jsonparse_json.name);


        var user_arr_json = [{"id":1,"name":"马云","age":23},{"id":3,"name":"任正非","age":23},{"id":2,"name":"jack","age":23}];
        console.log(user_arr_json[1].name);//通过下标进行获取

        //和字符串之间的相互转换
        //json数组->json字符串
        var user_arr_json_str = JSON.stringify(user_arr_json,null,2);
        console.log(user_arr_json_str+"----"+typeof(user_arr_json_str));

        //json数组字符串->json数组对象
        var user_arr_jsonstr = '[{"id":1,"name":"马云","age":23},{"id":3,"name":"任正非","age":23},{"id":2,"name":"jack","age":23}]';
       
        console.log(eval(user_arr_jsonstr)[1].name);
        console.log(JSON.parse(user_arr_jsonstr)[0].name);

        
        //将字符串->json数组 - 推荐使用JSON.parse
        //json对象-json字符串 - JSON.stringify
    </script>
</body>

</html>